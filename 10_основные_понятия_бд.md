
1)
СУБД - ключевой момент: берёт на себя вопросы управления Конкурентным (одновременным) доступом к данным. 

2)
"Данные" живут дольше "кода", они должны качествнно, надёжно хранится.

3)
Database First:
Проверку входящих данных: надёжнее делать на уровне БД, Нежели на уровне кода.

4)
NoSQL - другой подход к хранению данных.
Выигрываем в одном (например:скорость,производительность), теряем в другом (например:надёжность, наличие связей).

SQL (реляционные) базы - доминирующие, так как позволяют закрывать широкий спектр задач.

5)
базы бывают выполняют разные бизнес задачи:
OLAP и OLTP

6)
ClickHouse — это колоночная аналитическая СУБД
Плюсы: 1)) Высокая скорость обработки запросов на больших объемах данных.
(Аналитика данных, построение отчетов и дашбордов в реальном времени, обработка логов и событий)

7)
В реляционных базах:
Реляционная модель пришла из реляционной алгебры - которая определяет работу с множествами.

R - Релейшин - отношение - это каждая отдельная таблица, а не связность таблиц.
То есть связность колонок внутри таблицы, в ряду.

Таблица (R) - характеризуется набором атрибутов (колонок).

Порядок полей в таблице не несёт (не должен нести) смысл.
 

8)
Реляционная модель характеризуется свойствами ACID.

ACID - атомарность, согласованность, изолированность, долговечность
- атомарность - подразумевает изменение в БД как единый набор. Инструмент - Транзакции.
- согласованность - значит данные удовлетворяют схеме-ограничений таблицы.
- изолированность - позволяет не видеть не утверждённых изменений, т.е. перехода из одного сгласованного в другое согласованное состояние.
- долговечность - если сохранено согласованное состояние, то данные уже не будут потеряны.


9)
внешний ключ - всегда ссылается на существующий первычный другой таблицы.

СУБД - мощная штука:
На уровне базы можно реализовывать бизнес логику - чтобы не гнать данные в код, не обрабатывать большие данные в коде.

- простой ключ - состоит из одного поля
- составной ключ - из нескольких полей

бывают ключи:
- естественные
- суррогатные


10)
Связи.
Связи в процессе жизни продукта могут меняться: От одни-к-одному до многие-ко-многим.
Думать надо на перёд. Бизнес любит меняться. Потом переделывать будет больно.


11)
Нормальные формы - нужны чтобы бороться с Аномалиями данных. Аномалии могут испортить наши данные.

Аномалии появляются - когда данные не нормализованы.
Аномалии:
- избыточность (в одной ячейки хранится много данных)
- аномалии изменения (пример: не можем изменить в одном месте, нужно идти менять во многии места)
- аномалии удаления (нужно удалить один тип данных, но вынуждены удалять другие типы)
- аномалии вставки (хотим вставить один набор данных, вынуждены взять ещё наборы данных)

На практике широко применяютя первые 3 нормальные формы.
- 1 форма = все строки уникальны; в ячейки простое значение, без структуры.
- 2 форма = 1 форма + ещё что-то (надо загуглить на конкретном примере)
- 3 форма = 2 форма + ещё что-то (надо загуглить на конкретном примере)


12)
Денормализация - обычно делается для производительности (данные в одной таблице, а не в нескольких).


13)
view (представление) в БД - это SQL-запрос который хранится на СУБД - он под капотом всё равно выполняется.

Пример использования view: была 1 широкая таблица. 
таблицу разбили на несколько маленьких, но чтобы старые приложения не переписывать, для них пишем вьюху - клон широкой таблицы.


14)
Инструменты описания таблиц:
	1)) ER-модель-диаграмма
	2)) UML-диаграмма (диаграмма классов) - сложнее, но более профессионально
	
15)
Домашнее задание:
Спроектировать схему базы данных для системы управления кинотеатром:
- кинотеатр имеет несколько залов, в каждом зале идёт несколько разных сеансов, клиенты могут купить билеты на сеансы
- задокументировать с помощью ER-модели
- подготовить DDL скрипты
- написать SQL-скрипты для нахождения самого прибыльного фильма
